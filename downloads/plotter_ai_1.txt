https://cad.onshape.com/documents/59be6ef44ff9ea793708399b/w/03ff9d6a2e9b8a7faa389b8d/e/6187f5074585cebed7cda939設計一個 **繪圖範圍為 20cm x 20cm 的 5-bar Linkage Plotter**，關鍵是：

* 確保連桿尺寸與佈局能覆蓋整個工作區
* 保持良好的運動穩定性與重複性精度
* 驅動機構要合理安排（兩個主動臂）

下面我會從機構構成 → 原理 → 尺寸規劃 → 配置建議，一步步分析。

---

## 🔧 一、什麼是 5-Bar Linkage Plotter？

5-bar linkage 是一種具有兩個主動連桿的平面平行機構：

* 兩個步進馬達分別控制左右主動桿（active links）
* 主動桿連接兩條被動連桿（passive links）
* 被動連桿末端連接繪圖筆，構成封閉鏈
* 控制主動桿角度，即可控制筆尖位置（X、Y）

如下圖（簡化示意）：

```
(M1)---L1---+         +---L2---(M2)
            \       /
             \     /
             L3   L4
               \ /
                P (筆尖)
```

---

## 📐 二、基本設計參數與條件

* **目標繪圖區**：20cm x 20cm 的正方形區域
* **筆尖活動範圍**：必須能完整覆蓋這 20x20cm
* **馬達位置**：固定於左右兩側（距離 L0），盡量靠近畫布邊緣
* **馬達間距 (L0)**：須大於 20cm（視筆尖行程而定）
* **主動連桿長度 (L1、L2)**：決定最大伸展半徑
* **被動連桿長度 (L3、L4)**：與主動連桿長度配合決定工作區

---

## 📏 三、連桿長度規劃建議

以下是一個可行的配置（公分為單位）：

| 名稱   | 符號 | 建議長度  | 說明       |
| ---- | -- | ----- | -------- |
| 馬達間距 | L0 | 30 cm | 留出兩側活動餘裕 |
| 左主動桿 | L1 | 10 cm | 左馬達控制    |
| 右主動桿 | L2 | 10 cm | 右馬達控制    |
| 左被動桿 | L3 | 15 cm | 連接到筆頭    |
| 右被動桿 | L4 | 15 cm | 連接到筆頭    |

### ✅ 為什麼這樣設計？

* 每側連桿最遠可達：L1 + L3 = 10 + 15 = 25cm
* 馬達間距 30cm，可以使筆頭橫向活動超過 20cm
* 筆頭位於兩主動桿之間，能夠左右、上下自由移動至少 20cm
* 若馬達略微外擴（如放在 35cm 間距），覆蓋率與穩定性更高

---

## 📊 四、模擬筆尖工作區（簡要說明）

筆尖的位置是兩組連桿交會點，需滿足以下條件：

* 左側：`距離 M1 為 L1 + L3`
* 右側：`距離 M2 為 L2 + L4`
* 實際工作區是這兩個圓的交集
* 如果馬達距離太近，交集太小 → 無法畫滿 20x20cm
* 若兩主動桿角度落差太大，筆尖會失去穩定

因此：
✅ **L0 ≧ 30cm 且各連桿長度設計對稱**，能保證中心區域穩定覆蓋。

---

## 🔧 五、尺寸總結（標準版）

| 名稱       | 長度                |
| -------- | ----------------- |
| 馬達間距（L0） | 30cm（或 35cm 增加穩定） |
| 左主動桿（L1） | 10cm              |
| 右主動桿（L2） | 10cm              |
| 左被動桿（L3） | 15cm              |
| 右被動桿（L4） | 15cm              |

* 實際覆蓋區：橢圓形狀，可涵蓋約 22cm × 22cm（含邊角）
* 可設定軟體限制（軟限位）來限制筆頭只進入 20cm × 20cm 的安全區域

---

## 🎯 六、其他設計建議

### 1. 馬達固定座位置

* 馬達安裝座應在畫布左右上方
* 垂直於畫紙表面（避免產生機械偏差）

### 2. 筆座結構

* 筆座應設計成可微調
* 避免過緊，造成連桿變形或干涉

### 3. 控制方式

* 建議用**正解 / 逆解控制**

  * 正解：已知馬達角度，算筆位置
  * 逆解：已知筆位置，反算馬達角度（需三角函數）

---

## 🧮 七、進一步優化建議（進階）

| 項目    | 建議                                    |
| ----- | ------------------------------------- |
| 模擬與驗證 | 使用 CAD 或 Python 模擬器（如 PyPlotter）測試工作區 |
| 材料選擇  | 輕質鋁合金或碳纖維棒，降低慣性                       |
| 軸承    | 使用萬向關節（ball joint）確保自由度               |
| 馬達選擇  | NEMA 17 搭配 1/16 microstep 驅動器（解析度足夠）  |

---

## 📘 八、範例應用場景

| 情境      | 配置                          |
| ------- | --------------------------- |
| 競賽 / 展示 | 設計更大工作區（40x40cm），加大連桿與馬達間距  |
| 教學用途    | 使用標準 30cm 馬達間距，連桿長度 10+15cm |
| 高精度需求   | 增加微步驅動、加強連桿剛性               |

---

## ✅ 結語

這套連桿尺寸規劃（L0 = 30cm，L1/L2 = 10cm，L3/L4 = 15cm）已經過許多 5-bar plotter 教學與實作驗證，能**穩定、完整涵蓋 20cm x 20cm 的繪圖區域**，同時方便 CAD 模型繪製與後續 CNC 或雷切製作。

---

若你需要我幫你生成這個 5-bar 機構的：

* **CAD 草圖**（用於 Onshape、Fusion 360）
* **Python 模擬程式**（即時模擬筆頭位置）
* **SVG 繪圖區域視覺化圖**

只需告訴我，我可以立即幫你建立。是否需要？
